{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/OneDrive/Desktop/nh%C3%B3m%20CodeStorm/app/api/auth/login/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\n\n// Mock user database (in production, this would be a real database)\nconst mockUsers = [\n  {\n    id: 'user-1',\n    email: 'user@example.com',\n    username: 'johndoe',\n    display_name: 'John Doe',\n    password_hash: 'SecurePass123!', // In production, this would be hashed\n    avatar_url: 'https://api.dicebear.com/7.x/avataaars/svg?seed=johndoe',\n    bio: 'Full-stack developer passionate about web technologies',\n  },\n]\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const { email, password } = body\n\n    if (!email || !password) {\n      return NextResponse.json(\n        { error: { message: 'Email and password are required', code: 'VALIDATION_ERROR', status: 422 } },\n        { status: 422 }\n      )\n    }\n\n    // Find user (in production, query database)\n    const user = mockUsers.find(u => u.email === email)\n\n    if (!user || user.password_hash !== password) {\n      return NextResponse.json(\n        { error: { message: 'Invalid credentials', code: 'UNAUTHORIZED', status: 401 } },\n        { status: 401 }\n      )\n    }\n\n    // Generate mock JWT tokens (in production, use proper JWT library)\n    const accessToken = `jwt_access_${user.id}_${Date.now()}`\n    const refreshToken = `jwt_refresh_${user.id}_${Date.now()}`\n\n    return NextResponse.json(\n      {\n        user: {\n          id: user.id,\n          email: user.email,\n          username: user.username,\n          display_name: user.display_name,\n          avatar_url: user.avatar_url,\n          role: 'user',\n        },\n        tokens: {\n          access_token: accessToken,\n          refresh_token: refreshToken,\n          token_type: 'Bearer',\n          expires_in: 86400,\n        },\n      },\n      { status: 200 }\n    )\n  } catch (error) {\n    return NextResponse.json(\n      { error: { message: 'Internal server error', code: 'SERVER_ERROR', status: 500 } },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,oEAAoE;AACpE,MAAM,YAAY;IAChB;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,cAAc;QACd,eAAe;QACf,YAAY;QACZ,KAAK;IACP;CACD;AAEM,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;QAE5B,IAAI,CAAC,SAAS,CAAC,UAAU;YACvB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;oBAAE,SAAS;oBAAmC,MAAM;oBAAoB,QAAQ;gBAAI;YAAE,GAC/F;gBAAE,QAAQ;YAAI;QAElB;QAEA,4CAA4C;QAC5C,MAAM,OAAO,UAAU,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;QAE7C,IAAI,CAAC,QAAQ,KAAK,aAAa,KAAK,UAAU;YAC5C,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;oBAAE,SAAS;oBAAuB,MAAM;oBAAgB,QAAQ;gBAAI;YAAE,GAC/E;gBAAE,QAAQ;YAAI;QAElB;QAEA,mEAAmE;QACnE,MAAM,cAAc,CAAC,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI;QACzD,MAAM,eAAe,CAAC,YAAY,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI;QAE3D,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,MAAM;gBACJ,IAAI,KAAK,EAAE;gBACX,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;gBACvB,cAAc,KAAK,YAAY;gBAC/B,YAAY,KAAK,UAAU;gBAC3B,MAAM;YACR;YACA,QAAQ;gBACN,cAAc;gBACd,eAAe;gBACf,YAAY;gBACZ,YAAY;YACd;QACF,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;gBAAE,SAAS;gBAAyB,MAAM;gBAAgB,QAAQ;YAAI;QAAE,GACjF;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}